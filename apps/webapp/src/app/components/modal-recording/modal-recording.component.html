<div class="flex flex-col h-full w-full bg-primary-content">
  <div class="mx-auto max-w-screen-lg h-full flex flex-col space-y-4 ">
    <div class="p-8 text-center">
      <p class="font-bold text-lg md:text-2xl">
        @switch(status()) {
        @case('init') {
        Record yourself with your response.
        }
        @case('streaming') {
        Record yourself with your response.
        }
        @case('recording') {
        Recording...
        }
        @case('processing') {
        Processing...
        }
        }
      </p>
    </div>
    <div class="mx-auto w-3/4 md:w-1/2 relative">
      <video class="w-11/12 mx-auto rounded-lg border-4" [autoplay]="true" [muted]="true" #videoLive
        [class.hidden]="status() === 'success'"></video>
      <video class="w-11/12 mx-auto rounded-lg border-4" [controls]="true" #videoRta
        [class.hidden]="status() !== 'success'"></video>
      <p class="bg-white p-5 py-10 rounded-lg w-full text-sm -mt-4 text-black text-center">{{ data.message.text }}</p>
    </div>
    <div class="flex flex-col space-y-2 justify-center items-center">
      @switch(status()) {
      @case('init') {
      <p class="text-red-700">Record</p>
      <button type="button" class="btn btn-primary btn-large btn-circle" (click)="startRecording()">
        <mat-icon aria-hidden="false" aria-label="Example home icon">
          play_arrow
        </mat-icon>
      </button>
      }
      @case('streaming') {
      <p class="text-red-700">Record</p>
      <button type="button" class="btn bg-white btn-large btn-circle border-2 border-white" (click)="startRecording()">
        <mat-icon aria-hidden="false" aria-label="Example home icon">
          play_arrow
        </mat-icon>
      </button>
      }
      @case('recording') {
      <p class="text-red-700">Recording...</p>
      <button type="button" class="btn bg-white btn-large btn-circle border-2 border-white" (click)="stopRecording()">
        <mat-icon aria-hidden="false" aria-label="Example home icon">
          stop
        </mat-icon>
      </button>
      }
      @case('processing') {
      <p class="text-red-700">Recording...</p>
      }
      }
    </div>
    <div class="modal-action">
      <button (click)="close()" type="button" class="btn">Close</button>
    </div>
  </div>
</div>
